version: 2

models:  
  - name: stg_ga4__client_keys
    description: >
        Staging model for the base_ga4__pseudonymous_users table which pulls data from the user export.
        This model is keyed on client_key which is the key used by the package for joining with client (browser/app).
        This model unnests user properties and audience using variables of the same name that match the user property 
        or audience name and prefixing the unnested fields with those names.
    tests:
      - unique:
          column_name: "(client_key || occurrence_date)"
    columns:
      - name: client_key
        description: Hashed combination of user_pseudo_id and stream_id